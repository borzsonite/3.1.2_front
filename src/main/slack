3.1.3 При любых изменениях данных страница приложения не должна перезагружаться!
Как истолковывать это требование?
если я меняю или удаляю юзера в модельном окне в User Table юзеры не должны обновляться когда модальное окно закрылось?
Если я добавляю Если я добавляю юзера в окне New User редиректить на User Table не надо?
61 replies

Артем Муравьев  15 hours ago
Имеется в виду, что после изменения (добавление/апдейт/удаление юзера), изменения должны сразу подтягиваться в таблицу. Если для этого приходится обновлять страницу - это противоречит условию.
Если ошибаюсь, поправьте.  (edited)

Лукьяненко Алексей  15 hours ago
а это возможно увидеть без перезагрузки UserTable?

Артем Муравьев  15 hours ago
Конечно, для этого и есть JS)

Артем Муравьев  15 hours ago
Ты просто в JS пишешь функцию. В конце функции делаешь евент на кнопку «сохранить». Отписываешь что нужно сделать при клике на эту кнопку, а в конце вызываешь функцию, которая показывает тебе таблицу юзеров.

Артем Муравьев  15 hours ago
Если только начал, начни с написания функции, которая показывает тебе таблицу юзеров.

Лукьяненко Алексей  15 hours ago
Ну то есть таблица  юзеров перегружается?  Она же и так видна когда открывается модальное окно. Когда окно закрывается - там старые данные

Лукьяненко Алексей  15 hours ago
И нужно обновить страницу

Дмитрий Красильников  15 hours ago
В том-то и прикол. Надо с помощью js запросить новые данные у рест контроллера, получить их и перерисовать таблицу. Я так понимаю. Пока что рест контроллер пишу.

Лукьяненко Алексей  15 hours ago
то есть надо ноду таблицы перерисовать?

Дмитрий Красильников  15 hours ago
Да, после каждого удаления, добавления, редактирования юзера. Ну или часть таблицы, строку, которую изменил, удалил. Еще не решил как лучше.

Лукьяненко Алексей  15 hours ago
Может просто удалить таблицу и заменить на новую?

Роман Карпенко  15 hours ago
Сраница только один раз должна запрашивать GET у контроллера, при изначальной загрузке

Роман Карпенко  15 hours ago
Иначе попросят переделать

Роман Карпенко  15 hours ago
То есть при всех 3 операциях с юзерами новый гет отправлять нельзя

Дмитрий Красильников  15 hours ago
Кто уже сделал, посоветуйте ресурсы, по которым изучали, как нарисовать таблицу на js, поучить и отравить данные на рест с помощью js.

Лукьяненко Алексей  15 hours ago
То бишь добавлять/удалять/изменять строки таблицы?

Роман Карпенко  15 hours ago
Ну саму таблицу можно перерисовывать как хочешь, главное не запрашивай каждый раз данные у контроллера для этого

Лукьяненко Алексей  15 hours ago
А в первый раз тоже скриптом надо рисовать или можно по старинке из Spring контроллера?

Роман Карпенко  15 hours ago
У тебя обычный спринг контроллер остается только чтобы саму .html страничку вернуть. Ничего в модель он грузить не должен (edited)

Лукьяненко Алексей  14 hours ago
Понятно…

Лукьяненко Алексей  14 hours ago
Прям серпом

Артем Муравьев  14 hours ago
Ну фетч ты же на контроллер будешь делать каждый раз, поэтому контроллер все таки много раз вызывается)

Артем Муравьев  14 hours ago
@Роман Карпенко

Артем Муравьев  14 hours ago
Но я понял, что ты имел в виду)

Роман Карпенко  14 hours ago
Эм, нет... Только пои первой загрузке ты делаешь фетч

Роман Карпенко  14 hours ago
@Артем Муравьев

Леканов Сергей Павлович:glitch_crab:  14 hours ago
Я так понимаю, что здесь RestController для json, а Controller для рендеринга странички?
:white_check_mark:
2


Лукьяненко Алексей  14 hours ago
Я так понял что Controller это шаблон страницы а рисовать все скриптами

Леканов Сергей Павлович:glitch_crab:  14 hours ago
Да, голая страничка, а всё остальное подтягивается с помощью JS.

Лукьяненко Алексей  14 hours ago
Предполагаю что надо писать функции для добавления и удаления строки таблицы и ими все делать

Роман Карпенко  14 hours ago
Ну я всю таблицу перерисовывал, так банально проще
Главное чтобы при этом не шел ГЕТ запрос опять на контроллер

Роман Карпенко  14 hours ago
У жс должен быть свой массив с юзерами с которого он рисует таблицу

Леканов Сергей Павлович:glitch_crab:  14 hours ago
Хватит подсказывать, нам что-нибудь оставь сделать самостоятельно))

Роман Карпенко  14 hours ago
Ну про массив мне мнтор еще подсказал даже до того как я эту задачу решать начал хд

Роман Карпенко  14 hours ago
Так что все честно

Леканов Сергей Павлович:glitch_crab:  14 hours ago
:+1:

Лукьяненко Алексей  14 hours ago
Могли бы первый раз дать и через модель нарисовать (

Леканов Сергей Павлович:glitch_crab:  14 hours ago
Направление понятно, будем делать потихоньку. (edited)

Роман Карпенко  14 hours ago
Написание рест контроллера это самое простое в этой задаче

Роман Карпенко  14 hours ago
Буквально ctrlc, ctrlv и поменять возвращаемые значения

Дмитрий Красильников  14 hours ago
Ну это сразу было понятно )

Дмитрий Красильников  14 hours ago
Вся возьня с js будет

Лукьяненко Алексей  14 hours ago
Думал я уже близок. Ну прям серпом.

Лукьяненко Алексей  14 hours ago
Если б не спросил сегодня бы отправил радостный

Евгений Кафанов  14 hours ago
Как я понял получается при создании пользователя нужно его и в массив js добавлять и   в контроллер одновременно ?

Лукьяненко Алексей  14 hours ago
Думаю надо сначала ответ от Rest контроллера получить и тогда уже добавлять

Роман Карпенко  14 hours ago
Но контроллер отправляешь инфу для нового юзеоа, контроллер отвечает тебе юзером который добавлен в БД с уже известным айди

Лукьяненко Алексей  14 hours ago
@Роман Карпенко сколько мучился?

Роман Карпенко  14 hours ago
С 3.1.3?

Роман Карпенко  14 hours ago
Полтора дня

Лукьяненко Алексей  14 hours ago
а js за полчаса изучил?

Роман Карпенко  14 hours ago
На js ушло 80% затраченного времени)

Гаджимурад Сулейманов  14 hours ago
ты ведю falsecolour из tg?)
:eyes:
1


Лукьяненко Алексей  14 hours ago
Я дня 3 положил на js

Гаджимурад Сулейманов  14 hours ago
а, ну тогда понятно))

Роман Карпенко  14 hours ago
Что понятно? :smile:

Гаджимурад Сулейманов  14 hours ago
с фронтом имел дело?)

Роман Карпенко  14 hours ago
С этой адской штукой? тазашо (edited)

Гаджимурад Сулейманов  14 hours ago
ладно, может я перепутал

Роман Карпенко  14 hours ago
Я то ложноцвет, но ложноцвет с фронтом дел не имел

Артем Муравьев  10 hours ago
@Роман Карпенко понял. У меня просто в жс функции на отрисовку таблицы идёт фетч на рест контроллер. В модалках я эту функцию дергаю на конечном этапе.
